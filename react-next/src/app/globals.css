@tailwind base;
@tailwind components;
@tailwind utilities;

/* 基础样式重置和自定义样式 */
@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
    }

    /* 自定义滚动条样式 */
    ::-webkit-scrollbar {
        @apply w-2;
    }

    ::-webkit-scrollbar-track {
        @apply bg-gray-100;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gray-300 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-gray-400;
    }

    /* 选择文本样式 */
    ::selection {
        @apply bg-primary-100 text-primary-900;
    }

    /* 焦点样式 */
    :focus-visible {
        @apply outline-none ring-2 ring-primary-500 ring-offset-2;
    }
}

/* 组件样式 */
@layer components {

    /* 容器样式 */
    .container {
        @apply mx-auto max-w-7xl px-4 sm:px-6 lg:px-8;
    }

    /* 按钮变体样式 */
    .btn-primary {
        @apply bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
    }

    .btn-secondary {
        @apply bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500;
    }

    .btn-outline {
        @apply border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-primary-500;
    }

    /* 卡片样式 */
    .card {
        @apply rounded-lg border border-gray-200 bg-white shadow-sm;
    }

    .card-hover {
        @apply transition-shadow hover:shadow-md;
    }

    /* 输入框样式 */
    .input {
        @apply flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm;
    }

    .input-focus {
        @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
    }

    /* 文本样式 */
    .text-balance {
        text-wrap: balance;
    }

    .text-gradient {
        @apply bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent;
    }

    /* 动画样式 */
    .animate-fade-in {
        animation: fadeIn 0.5s ease-in-out;
    }

    .animate-slide-up {
        animation: slideUp 0.3s ease-out;
    }

    .animate-bounce-slow {
        animation: bounce 2s infinite;
    }
}

/* 工具类样式 */
@layer utilities {

    /* 间距工具类 */
    .space-y-8> :not([hidden])~ :not([hidden]) {
        @apply mt-8;
    }

    .space-y-6> :not([hidden])~ :not([hidden]) {
        @apply mt-6;
    }

    .space-y-4> :not([hidden])~ :not([hidden]) {
        @apply mt-4;
    }

    /* 网格工具类 */
    .grid-auto-fit {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }

    .grid-auto-fill {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    }

    /* 响应式工具类 */
    .mobile-only {
        @apply block sm:hidden;
    }

    .desktop-only {
        @apply hidden sm:block;
    }

    /* 暗色模式工具类 */
    .dark-mode {
        @apply dark:bg-gray-900 dark:text-gray-100;
    }

    /* 打印样式 */
    @media print {
        .print-hidden {
            @apply hidden;
        }

        .print-visible {
            @apply block;
        }
    }
}

/* 关键帧动画 */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        transform: translateY(10px);
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes bounce {

    0%,
    20%,
    53%,
    80%,
    100% {
        transform: translate3d(0, 0, 0);
    }

    40%,
    43% {
        transform: translate3d(0, -30px, 0);
    }

    70% {
        transform: translate3d(0, -15px, 0);
    }

    90% {
        transform: translate3d(0, -4px, 0);
    }
}

/* 暗色模式样式 */
@media (prefers-color-scheme: dark) {
    .dark-mode {
        @apply bg-gray-900 text-gray-100;
    }
}

/* 高对比度模式 */
@media (prefers-contrast: high) {
    .high-contrast {
        @apply border-2 border-black;
    }
}

/* 减少动画模式 */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
